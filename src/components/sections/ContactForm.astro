---
import TrustBadge from "../ui/TrustBadge.astro";
---

<section id="kontakt" class="py-16 md:py-24 bg-white">
    <div class="max-w-3xl mx-auto px-4 sm:px-6 lg:px-8">
        <!-- Header -->
        <div class="text-center mb-8">
            <h2 class="text-2xl sm:text-3xl font-bold text-navy mb-4">
                Oder schreiben Sie uns
            </h2>
            <p class="text-gray-600">
                Wir melden uns innerhalb von 24 Stunden bei Ihnen.
            </p>
        </div>

        <!-- Contact Form -->
        <form id="contact-form" class="space-y-5">
            <!-- Web3Forms Config -->
            <input
                type="hidden"
                name="access_key"
                value="552f0c66-fc3a-4fd3-9720-930bedf872e0"
            />
            <input
                type="hidden"
                name="subject"
                value="Neue Anfrage - Decari Landing Page"
            />
            <input type="hidden" name="from_name" value="Decari Website" />
            <!-- Honeypot -->
            <input
                type="checkbox"
                name="botcheck"
                class="hidden"
                style="display: none"
            />

            <!-- Name -->
            <div>
                <label
                    for="name"
                    class="block text-sm font-medium text-gray-700 mb-1"
                    >Name *</label
                >
                <input
                    type="text"
                    id="name"
                    name="name"
                    required
                    class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal focus:border-teal transition-colors"
                    placeholder="Ihr vollständiger Name"
                />
            </div>

            <!-- Email -->
            <div>
                <label
                    for="email"
                    class="block text-sm font-medium text-gray-700 mb-1"
                    >E-Mail *</label
                >
                <input
                    type="email"
                    id="email"
                    name="email"
                    required
                    class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal focus:border-teal transition-colors"
                    placeholder="ihre@email.de"
                />
            </div>

            <!-- Company -->
            <div>
                <label
                    for="company"
                    class="block text-sm font-medium text-gray-500 mb-1"
                >
                    Pflegedienst / Unternehmen <span class="text-gray-400"
                        >(optional)</span
                    >
                </label>
                <input
                    type="text"
                    id="company"
                    name="company"
                    class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal focus:border-teal transition-colors"
                    placeholder="Name Ihres Pflegedienstes"
                />
            </div>

            <!-- Client Count -->
            <div>
                <label
                    for="klienten"
                    class="block text-sm font-medium text-gray-500 mb-1"
                >
                    Anzahl Klienten <span class="text-gray-400">(optional)</span
                    >
                </label>
                <select
                    id="klienten"
                    name="klienten"
                    class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal focus:border-teal transition-colors"
                >
                    <option value="">Bitte wählen</option>
                    <option value="<100">Unter 100</option>
                    <option value="100-300">100 - 300</option>
                    <option value="300-500">300 - 500</option>
                    <option value="500+">Über 500</option>
                </select>
            </div>

            <!-- Message -->
            <div>
                <label
                    for="message"
                    class="block text-sm font-medium text-gray-500 mb-1"
                >
                    Nachricht <span class="text-gray-400">(optional)</span>
                </label>
                <textarea
                    id="message"
                    name="message"
                    rows="4"
                    class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal focus:border-teal transition-colors resize-none"
                    placeholder="Wie können wir Ihnen helfen?"></textarea>
            </div>

            <!-- Submit -->
            <button
                type="submit"
                id="submit-btn"
                class="w-full bg-teal text-white font-semibold py-4 px-6 rounded-lg hover:bg-teal-light transition-all shadow-md hover:shadow-lg"
            >
                Nachricht senden
            </button>

            <p class="text-xs text-gray-500 text-center">
                Mit dem Absenden stimmen Sie unserer
                <a href="/datenschutz" class="underline">Datenschutzerklärung</a
                > zu.
            </p>
        </form>

        <!-- Success Message -->
        <div id="form-success" class="hidden text-center py-12">
            <div
                class="w-16 h-16 bg-teal/10 rounded-full flex items-center justify-center mx-auto mb-4"
            >
                <svg
                    class="w-8 h-8 text-teal"
                    fill="none"
                    stroke="currentColor"
                    viewBox="0 0 24 24"
                >
                    <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M5 13l4 4L19 7"></path>
                </svg>
            </div>
            <h3 class="text-xl font-bold text-navy mb-2">Vielen Dank!</h3>
            <p class="text-gray-600">
                Ihre Nachricht wurde erfolgreich gesendet.<br />
                Wir melden uns innerhalb von 24 Stunden bei Ihnen.
            </p>
        </div>

        <!-- Error Message -->
        <div
            id="form-error"
            class="hidden bg-red-50 border border-red-200 rounded-lg p-4 mt-4"
        >
            <p class="text-red-700 text-sm">
                Es ist ein Fehler aufgetreten. Bitte versuchen Sie es erneut
                oder kontaktieren Sie uns direkt unter
                <a href="mailto:steffen@decari.de" class="underline"
                    >steffen@decari.de</a
                >.
            </p>
        </div>

        <!-- Kontakt-Links -->
        <div
            class="flex flex-wrap justify-center items-center gap-6 mt-10 pt-8 border-t border-gray-200"
        >
            <a
                href="mailto:steffen@decari.de"
                class="flex items-center gap-2 text-navy hover:text-teal transition-colors"
            >
                <svg
                    class="w-5 h-5 text-teal"
                    fill="none"
                    stroke="currentColor"
                    viewBox="0 0 24 24"
                >
                    <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"
                    ></path>
                </svg>
                <span class="font-medium">steffen@decari.de</span>
            </a>
            <a
                href="https://www.decari.de"
                target="_blank"
                rel="noopener"
                class="flex items-center gap-2 text-navy hover:text-teal transition-colors"
            >
                <svg
                    class="w-5 h-5 text-teal"
                    fill="none"
                    stroke="currentColor"
                    viewBox="0 0 24 24"
                >
                    <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"
                    ></path>
                </svg>
                <span class="font-medium">decari.de</span>
            </a>
            <a
                href="https://www.linkedin.com/in/steffen-regenhardt-3a1a23246/"
                target="_blank"
                rel="noopener"
                class="flex items-center gap-2 text-navy hover:text-teal transition-colors"
            >
                <svg
                    class="w-5 h-5 text-teal"
                    fill="currentColor"
                    viewBox="0 0 24 24"
                >
                    <path
                        d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"
                    ></path>
                </svg>
                <span class="font-medium">LinkedIn</span>
            </a>
        </div>

        <!-- Trust-Badges -->
        <div
            class="flex flex-wrap justify-center gap-4 mt-6 text-sm text-gray-500"
        >
            <TrustBadge text="Antwort innerhalb 24h" />
            <TrustBadge text="Kostenlose Erstberatung" />
            <TrustBadge text="Keine Verpflichtungen" />
        </div>

        <!-- Pilotprojekt-Hinweis für andere Einrichtungsformen -->
        <div
            class="mt-8 p-5 bg-gray-50 rounded-xl border border-gray-200 text-center"
        >
            <p class="text-gray-600 text-sm mb-2">
                <strong class="text-navy"
                    >Sie betreiben eine stationäre Einrichtung, Senioren-WG oder
                    Tagespflege?</strong
                >
            </p>
            <p class="text-gray-500 text-sm">
                Unser Service ist aktuell auf ambulante Pflegedienste
                spezialisiert. Wir sind jedoch offen für <strong
                    >Pilotprojekte</strong
                > mit stationären Pflegeheimen, Wohngemeinschaften, Senioren-WGs und
                Tagespflege-Einrichtungen. Sprechen Sie uns an!
            </p>
        </div>
    </div>
</section>
