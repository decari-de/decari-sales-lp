---
import SectionHeader from "../ui/SectionHeader.astro";
import CalendlyButton from "../ui/CalendlyButton.astro";
import TrustBadge from "../ui/TrustBadge.astro";
---

<section
    id="rechner"
    class="py-16 md:py-24 bg-gradient-to-b from-gray-50 to-white"
>
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
        <SectionHeader
            title="Wie viel Umsatz verschenken Sie – bei Ihren bestehenden Klienten?"
            subtitle="2 Eingaben – Ihr Ergebnis in Sekunden"
            class="mb-10 md:mb-12"
        />

        <!-- Calculator Card -->
        <div class="bg-white rounded-2xl shadow-xl p-6 md:p-10 lg:p-12">
            <!-- Input Fields -->
            <div class="space-y-8" id="calculator-inputs">
                <!-- Field 1: Total Clients -->
                <div class="calculator-field">
                    <label
                        for="gesamtKlienten"
                        class="block text-sm font-semibold text-gray-700 mb-3"
                    >
                        Wie viele Klienten betreuen Sie insgesamt?
                    </label>
                    <div class="flex items-center gap-4">
                        <input
                            type="range"
                            id="gesamtKlienten"
                            min="50"
                            max="1000"
                            value="200"
                            step="10"
                            aria-label="Gesamtzahl der Klienten"
                            aria-valuemin="50"
                            aria-valuemax="1000"
                            aria-valuenow="200"
                            class="flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider-custom"
                        />
                        <span
                            class="text-2xl font-bold text-navy w-20 text-right tabular-nums"
                            id="display-klienten">200</span
                        >
                    </div>
                    <div
                        class="flex justify-between text-xs text-gray-400 mt-1 px-1"
                    >
                        <span>50</span>
                        <span>500</span>
                        <span>1000</span>
                    </div>
                </div>

                <!-- Field 2: Care Level -->
                <div class="calculator-field">
                    <label
                        class="block text-sm font-semibold text-gray-700 mb-3"
                    >
                        Durchschnittlicher Pflegegrad Ihrer Klienten
                    </label>
                    <div
                        class="flex gap-2 flex-wrap"
                        id="pflegegrad-buttons"
                        role="group"
                        aria-label="Pflegegrad auswählen"
                    >
                        <button
                            data-value="2"
                            class="flex-1 min-w-[60px] px-4 py-3 rounded-lg border-2 border-gray-200 font-semibold transition-all hover:border-teal focus:outline-none focus:ring-2 focus:ring-teal focus:ring-offset-2"
                            >2</button
                        >
                        <button
                            data-value="3"
                            class="flex-1 min-w-[60px] px-4 py-3 rounded-lg border-2 border-teal bg-teal text-white font-semibold transition-all focus:outline-none focus:ring-2 focus:ring-teal focus:ring-offset-2"
                            >3</button
                        >
                        <button
                            data-value="4"
                            class="flex-1 min-w-[60px] px-4 py-3 rounded-lg border-2 border-gray-200 font-semibold transition-all hover:border-teal focus:outline-none focus:ring-2 focus:ring-teal focus:ring-offset-2"
                            >4</button
                        >
                        <button
                            data-value="5"
                            class="flex-1 min-w-[60px] px-4 py-3 rounded-lg border-2 border-gray-200 font-semibold transition-all hover:border-teal focus:outline-none focus:ring-2 focus:ring-teal focus:ring-offset-2"
                            >5</button
                        >
                    </div>
                </div>
            </div>

            <!-- Results Section -->
            <div
                id="calculator-results"
                class="mt-10 pt-8 border-t border-gray-100"
            >
                <h3
                    class="text-lg font-semibold text-center text-gray-700 mb-6"
                >
                    Umsatz, den Sie aktuell verschenken
                </h3>

                <!-- Result Cards -->
                <div class="grid grid-cols-1 sm:grid-cols-3 gap-4 mb-8">
                    <div class="bg-gray-50 rounded-xl p-5 text-center">
                        <div
                            class="text-3xl md:text-4xl font-bold text-teal tabular-nums"
                            id="result-hvKlienten"
                        >
                            14
                        </div>
                        <div class="text-sm text-gray-500 mt-2">
                            Klienten mit Anspruch
                        </div>
                    </div>
                    <div class="bg-gray-50 rounded-xl p-5 text-center">
                        <div
                            class="text-3xl md:text-4xl font-bold text-teal tabular-nums"
                            id="result-monatlich"
                        >
                            41.890€
                        </div>
                        <div class="text-sm text-gray-500 mt-2">
                            pro Monat zusätzlich
                        </div>
                    </div>
                    <div
                        class="bg-teal/10 rounded-xl p-5 text-center border-2 border-teal result-highlight"
                    >
                        <div
                            class="text-3xl md:text-4xl font-bold text-navy tabular-nums"
                            id="result-jaehrlich"
                        >
                            502.680€
                        </div>
                        <div class="text-sm text-gray-600 mt-2 font-medium">
                            pro Jahr zusätzlich
                        </div>
                    </div>
                </div>

                <!-- Highlight Box -->
                <div
                    class="bg-navy/5 rounded-lg p-4 text-center text-navy mb-6"
                >
                    <strong>Das Beste:</strong> Diese Klienten betreuen Sie bereits.
                    Mehr bewilligte Stunden bedeuten effizientere Touren und zufriedenere
                    Mitarbeiter.
                </div>

                <!-- Context Fact -->
                <div id="context-fact" class="text-center text-gray-600 mb-8">
                    Das entspricht <strong>6 Vollzeit-Pflegekräften</strong>,
                    die Sie zusätzlich finanzieren könnten.
                </div>

                <!-- CTA -->
                <div class="text-center">
                    <CalendlyButton
                        text="Jetzt kostenloses Erstgespräch sichern"
                        size="lg"
                    />

                    <!-- Trust Badges -->
                    <div
                        class="flex flex-wrap justify-center gap-4 mt-5 text-sm text-gray-500"
                    >
                        <TrustBadge text="Kostenlose Erstberatung" />
                        <TrustBadge text="Keine Verpflichtung" />
                        <TrustBadge text="Erfolgsbasiert" />
                    </div>
                </div>

                <!-- Disclaimer -->
                <p class="text-xs text-gray-400 text-center mt-6">
                    Diese Berechnung basiert auf Durchschnittswerten
                    verschiedener Zusatzleistungen (SGB IX, XII,
                    Verhinderungspflege, Entlastung). Im Erstgespräch
                    analysieren wir Ihr individuelles Potenzial.
                </p>
            </div>
        </div>
    </div>
</section>
